{"version":3,"sources":["webpack:////Users/xianxiaoge/Documents/HBuilderProjects/chat-uniapp/components/hch-poster/hch-poster.vue?99f1","webpack:////Users/xianxiaoge/Documents/HBuilderProjects/chat-uniapp/components/hch-poster/hch-poster.vue?852a","webpack:////Users/xianxiaoge/Documents/HBuilderProjects/chat-uniapp/components/hch-poster/hch-poster.vue?0123","webpack:////Users/xianxiaoge/Documents/HBuilderProjects/chat-uniapp/components/hch-poster/hch-poster.vue?10b5","uni-app:///components/hch-poster/hch-poster.vue","webpack:////Users/xianxiaoge/Documents/HBuilderProjects/chat-uniapp/components/hch-poster/hch-poster.vue?7a4e"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"iIAAA,yHACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,8GAAw1B,eAAG,G,+HCmC31B,S,qXAKA,CACA,KADA,WAEA,OACA,UACA,gBAGA,OACA,YACA,YACA,mBACA,YAIA,UAOA,OAPA,WAQA,sBACA,cACA,GACA,iBACA,qBACA,qBACA,qBACA,6BACA,6BACA,sBAEA,UAQA,QA3BA,WA4BA,sBACA,cACA,GACA,kBACA,sBACA,sBACA,sBACA,8BACA,oCAEA,UAQA,MA9CA,WA+CA,sBACA,cACA,UAGA,OAFA,mBACA,qDACA,GAQA,QA5DA,WA6DA,sBACA,cACA,GACA,kBACA,sBACA,sBACA,sBACA,8BACA,wBAEA,WAGA,QAzFA,WA2FA,+BAEA,SAOA,WAPA,WAQA,mBACA,oBAMA,YAfA,WAeA,kJACA,eACA,mBAEA,sCACA,QACA,uCACA,SAEA,WACA,YACA,YACA,UAZA,WAaA,gDAbA,0BAcA,gDAdA,eAgBA,0CACA,wBACA,EACA,OACA,IACA,IACA,IACA,WACA,QACA,cAzBA,WA4BA,mBACA,EACA,IACA,MACA,IACA,IACA,IACA,OAnCA,QAuCA,IACA,yCACA,KACA,iBAEA,QAEA,wBACA,EACA,OACA,IACA,EACA,IACA,WACA,QACA,aACA,YAGA,gBA1DA,+CAkEA,sBAjFA,WAkFA,eACA,iBAEA,WAIA,wBACA,gBACA,gBACA,oBACA,qBACA,0BACA,2BACA,oBACA,QARA,SAQA,GAIA,0BACA,wBACA,QAFA,SAEA,GACA,gBACA,aACA,uBACA,aACA,cAEA,wBAEA,KAXA,WAYA,aACA,kBACA,aACA,cAEA,oBAgBA,KA7CA,SA6CA,GACA,6BACA,aACA,kBACA,aACA,cAEA,kBAGA,OAwDA,mBAxMA,WAyMA,mBACA,2B,2EC/UA,8GAAujD,eAAG,G","file":"components/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=308841a4&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=308841a4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","<!--\r\n * @Description: 生成海报组件\r\n * @Version: 1.0.0\r\n * @Autor: hch\r\n * @Date: 2020-08-07 14:48:41\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2021-07-31 18:11:35\r\n * 保存海报按钮和关闭按钮 在html代码中写出来 绑定点击方法然后透明 再用canvas 覆盖\r\n-->\r\n\r\n<template>\r\n\t<view class=\"canvas-content\" v-show=\"canvasShow\" :style=\"'width:' + system.w + 'px; height:' + system.h + 'px;'\">\r\n\t\t<!-- 遮罩层 -->\r\n\t\t<view class=\"canvas-mask\"></view>\r\n\t\t<!-- 海报 -->\r\n\t\t<!-- :width=\"system.w\" :height=\"system.h\" 支付宝必须要这样设置宽高才有效果 -->\r\n\t\t<canvas class=\"canvas\" canvas-id=\"myCanvas\" id=\"myCanvas\"\r\n\t\t\t:style=\"'width:' + system.w + 'px; height:' + system.h + 'px;'\" :width=\"system.w\"\r\n\t\t\t:height=\"system.h\"></canvas>\r\n\t\t<view class=\"button-wrapper\">\n\t\t\t<view class=\"save-btn-box\">\n\t\t\t\t<button class=\"cu-btn round save-btn\" @tap=\"handleSaveCanvasImage\">\n\t\t\t\t\t保存海报</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"cancel-btn-box\">\n\t\t\t\t<button class=\"cu-btn round cancel-btn\" @tap=\"handleCanvasCancel\">\n\t\t\t\t\t取消</button>\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tdrawSquarePic,\r\n\t\tdrawTextReturnH,\r\n\t\tgetSystem\r\n\t} from './utils'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsystem: {},\r\n\t\t\t\tcanvasShow: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tposterData: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t/**\r\n\t\t\t * @description: 计算海报背景数据\r\n\t\t\t * @param {*}\r\n\t\t\t * @return {*}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\tposter() {\r\n\t\t\t\tlet data = this.posterData\r\n\t\t\t\tlet system = this.system\r\n\t\t\t\tlet posterBg = {\r\n\t\t\t\t\turl: data.poster.url,\r\n\t\t\t\t\tr: data.poster.r * system.scale,\r\n\t\t\t\t\tw: data.poster.w * system.scale,\r\n\t\t\t\t\th: data.poster.h * system.scale,\r\n\t\t\t\t\tx: (system.w - data.poster.w * system.scale) / 2,\r\n\t\t\t\t\ty: (system.h - data.poster.h * system.scale) / 2,\r\n\t\t\t\t\tp: data.poster.p * system.scale\r\n\t\t\t\t}\r\n\t\t\t\treturn posterBg\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 计算海报头部主图\r\n\t\t\t * @param {*}\r\n\t\t\t * @return {*}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\tmainImg() {\r\n\t\t\t\tlet data = this.posterData\r\n\t\t\t\tlet system = this.system\r\n\t\t\t\tlet posterMain = {\r\n\t\t\t\t\turl: data.mainImg.url,\r\n\t\t\t\t\tr: data.mainImg.r * system.scale,\r\n\t\t\t\t\tw: data.mainImg.w * system.scale,\r\n\t\t\t\t\th: data.mainImg.h * system.scale,\r\n\t\t\t\t\tx: (system.w - data.mainImg.w * system.scale) / 2,\r\n\t\t\t\t\ty: this.poster.y + data.poster.p * system.scale\r\n\t\t\t\t}\r\n\t\t\t\treturn posterMain\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 计算海报标题\r\n\t\t\t * @param {*}\r\n\t\t\t * @return {*}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\ttitle() {\r\n\t\t\t\tlet data = this.posterData\r\n\t\t\t\tlet system = this.system\r\n\t\t\t\tlet posterTitle = data.title\r\n\t\t\t\tposterTitle.x = this.mainImg.x\r\n\t\t\t\tposterTitle.y = this.mainImg.y + this.mainImg.h + data.title.mt * system.scale\r\n\t\t\t\treturn posterTitle\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 计算小程序码\r\n\t\t\t * @param {*}\r\n\t\t\t * @return {*}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\tcodeImg() {\r\n\t\t\t\tlet data = this.posterData\r\n\t\t\t\tlet system = this.system\r\n\t\t\t\tlet posterCode = {\r\n\t\t\t\t\turl: data.codeImg.url,\r\n\t\t\t\t\tr: data.codeImg.r * system.scale,\r\n\t\t\t\t\tw: data.codeImg.w * system.scale,\r\n\t\t\t\t\th: data.codeImg.h * system.scale,\r\n\t\t\t\t\tx: (system.w - data.codeImg.w * system.scale) / 2,\r\n\t\t\t\t\ty: data.codeImg.mt * system.scale //y需要加上绘图后文本的y\r\n\t\t\t\t}\r\n\t\t\t\treturn posterCode\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 获取设备信息\r\n\t\t\tthis.system = getSystem()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * @description: 展示海报\r\n\t\t\t * @param {type}\r\n\t\t\t * @return {type}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\tposterShow() {\r\n\t\t\t\tthis.canvasShow = true\r\n\t\t\t\tthis.creatPoster()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 生成海报\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\tasync creatPoster() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '生成海报中...'\r\n\t\t\t\t})\r\n\t\t\t\tconst ctx = uni.createCanvasContext('myCanvas', this)\r\n\t\t\t\tthis.ctx = ctx\r\n\t\t\t\tctx.clearRect(0, 0, this.system.w, this.system.h) //清空之前的海报\r\n\t\t\t\tctx.draw() //清空之前的海报\r\n\t\t\t\t// 根据设备屏幕大小和距离屏幕上下左右距离，及圆角绘制背景\r\n\t\t\t\tlet poster = this.poster\r\n\t\t\t\tlet mainImg = this.mainImg\r\n\t\t\t\tlet codeImg = this.codeImg\r\n\t\t\t\tlet title = this.title\r\n\t\t\t\tawait drawSquarePic(ctx, poster.x, poster.y, poster.w, poster.h, poster.r, poster.url)\r\n\t\t\t\tawait drawSquarePic(ctx, mainImg.x, mainImg.y, mainImg.w, mainImg.h, mainImg.r, mainImg.url)\r\n\t\t\t\t// 绘制标题 textY 绘制文本的y位置\r\n\t\t\t\tconsole.log('creatPoster -> title.x', title.x)\r\n\t\t\t\tlet textY = drawTextReturnH(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\ttitle.text,\r\n\t\t\t\t\ttitle.x,\r\n\t\t\t\t\ttitle.y,\r\n\t\t\t\t\tmainImg.w,\r\n\t\t\t\t\ttitle.fontSize,\r\n\t\t\t\t\ttitle.color,\r\n\t\t\t\t\ttitle.lineHeight\r\n\t\t\t\t)\r\n\t\t\t\t// 绘制小程序码\r\n\t\t\t\tawait drawSquarePic(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tcodeImg.x,\r\n\t\t\t\t\tcodeImg.y + textY,\r\n\t\t\t\t\tcodeImg.w,\r\n\t\t\t\t\tcodeImg.h,\r\n\t\t\t\t\tcodeImg.r,\r\n\t\t\t\t\tcodeImg.url\r\n\t\t\t\t)\r\n\t\t\t\t// 小程序的名称\r\n\t\t\t\t// 长按/扫描识别查看商品\r\n\t\t\t\tlet y = 0\r\n\t\t\t\tthis.posterData.tips.forEach((element, i) => {\r\n\t\t\t\t\tif (i == 0) {\r\n\t\t\t\t\t\ty = codeImg.y + textY + element.mt + codeImg.h\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ty += element.mt\r\n\t\t\t\t\t}\r\n\t\t\t\t\ty = drawTextReturnH(\r\n\t\t\t\t\t\tctx,\r\n\t\t\t\t\t\telement.text,\r\n\t\t\t\t\t\ttitle.x,\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\tmainImg.w,\r\n\t\t\t\t\t\telement.fontSize,\r\n\t\t\t\t\t\telement.color,\r\n\t\t\t\t\t\telement.lineHeight,\r\n\t\t\t\t\t\telement.align\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 保存到系统相册\r\n\t\t\t * @param {type}\r\n\t\t\t * @return {type}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\thandleSaveCanvasImage() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '保存中...'\r\n\t\t\t\t})\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// 把画布转化成临时文件\r\n\t\t\t\t// #ifndef MP-ALIPAY\r\n\t\t\t\t// 支付宝小程序外，其他都是用这个方法 canvasToTempFilePath\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tx: this.poster.x,\r\n\t\t\t\t\t\ty: this.poster.y,\r\n\t\t\t\t\t\twidth: this.poster.w, // 画布的宽\r\n\t\t\t\t\t\theight: this.poster.h, // 画布的高\r\n\t\t\t\t\t\tdestWidth: this.poster.w * 5,\r\n\t\t\t\t\t\tdestHeight: this.poster.h * 5,\r\n\t\t\t\t\t\tcanvasId: 'myCanvas',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t//保存图片至相册\r\n\t\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\t\t// 除了h5以外的其他端\r\n\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '图片保存成功，可以去分享啦~',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t_this.handleCanvasCancel()\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t// h5的时候\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '请长按保存',\r\n\t\t\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t_this.handleCanvasCancel()\r\n\t\t\t\t\t\t\t_this.$emit('previewImage', res.tempFilePath)\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tconsole.log('fail -> res', res)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis\r\n\t\t\t\t)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t// 支付宝小程序条件下 toTempFilePath\r\n\t\t\t\tthis.ctx.toTempFilePath({\r\n\t\t\t\t\t\tx: this.poster.x,\r\n\t\t\t\t\t\ty: this.poster.y,\r\n\t\t\t\t\t\twidth: this.poster.w, // 画布的宽\r\n\t\t\t\t\t\theight: this.poster.h, // 画布的高\r\n\t\t\t\t\t\tdestWidth: this.poster.w * 5,\r\n\t\t\t\t\t\tdestHeight: this.poster.h * 5,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t//保存图片至相册\r\n\t\t\t\t\t\t\tmy.saveImage({\r\n\t\t\t\t\t\t\t\turl: res.apFilePath,\r\n\t\t\t\t\t\t\t\tshowActionSheet: true,\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '图片保存成功，可以去分享啦~',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t_this.handleCanvasCancel()\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tconsole.log('fail -> res', res)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis\r\n\t\t\t\t)\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @description: 取消海报\r\n\t\t\t * @param {type}\r\n\t\t\t * @return {type}\r\n\t\t\t * @author: hch\r\n\t\t\t */\r\n\t\t\thandleCanvasCancel() {\r\n\t\t\t\tthis.canvasShow = false\r\n\t\t\t\tthis.$emit('cancel', true)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.content {\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.canvas-content {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\r\n\t\t.canvas-mask {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 9;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t}\r\n\r\n\t\t.canvas {\r\n\t\t\tz-index: 10;\r\n\t\t}\r\n\r\n\t\t.button-wrapper {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 20rpx;\r\n\t\t\tz-index: 16;\r\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 72rpx;\n\t\t\t\n\t\t\t.save-btn-box{\n\t\t\t\tpadding-left: 120rpx;\n\t\t\t\t.save-btn {\n\t\t\t\t\tz-index: 16;\n\t\t\t\t\twidth: 240rpx;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tline-height: 72rpx;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #30BEB8;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.cancel-btn-box{\n\t\t\t\tpadding-right: 120rpx;\n\t\t\t\t.cancel-btn {\n\t\t\t\t\tz-index: 16;\n\t\t\t\t\twidth: 240rpx;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tline-height: 72rpx;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #30BEB8;\n\t\t\t\t}\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t.canvas-close-btn {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 30rpx;\r\n\t\t\tright: 0;\r\n\t\t\tz-index: 12;\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}