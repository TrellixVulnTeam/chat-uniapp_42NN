(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/suggestion/suggestion"],{131:function(t,e,n){"use strict";(function(t){n(5);o(n(3));var e=o(n(132));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},132:function(t,e,n){"use strict";n.r(e);var o=n(133),s=n(135);for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);n(137);var r,u=n(23),c=Object(u["default"])(s["default"],o["render"],o["staticRenderFns"],!1,null,"2afe1776",null,!1,o["components"],r);c.options.__file="pages/my/suggestion/suggestion.vue",e["default"]=c.exports},133:function(t,e,n){"use strict";n.r(e);var o=n(134);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},134:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return s})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return o}));try{o={uniFilePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker")]).then(n.bind(null,186))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var t=this,e=t.$createElement;t._self._c},i=!1,r=[];s._withStripped=!0},135:function(t,e,n){"use strict";n.r(e);var o=n(136),s=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=s.a},136:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(11));function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,o,s,i,r){try{var u=t[i](r),c=u.value}catch(a){return void n(a)}u.done?e(c):Promise.resolve(c).then(o,s)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,s){var i=t.apply(e,n);function u(t){r(i,o,s,u,c,"next",t)}function c(t){r(i,o,s,u,c,"throw",t)}u(void 0)}))}}var c=t.database(),a=(c.command,{data:function(){return{userInfo:{},imageStyles:{width:90,height:90},tag_select_1:!1,tag_style_1:"",tag_select_2:!1,tag_style_2:"",tag_select_3:!1,tag_style_3:"",tag_select_4:!1,tag_style_4:"",wordCount:0,suggestionInfo:{userId:"",suggestionType:"",suggestionText:"",suggestionImages:[]}}},onLoad:function(){this.init()},onShow:function(){},watch:{"suggestionInfo.suggestionText":{deep:!1,handler:function(t,e){this.wordCount=t.length}}},methods:{init:function(){this.userInfo=o.getStorageSync("userInfo"),console.log("this.userInfo:",this.userInfo),this.suggestionInfo.userId=this.userInfo._id},select_1:function(){this.suggestionInfo.suggestionType="内容功能",this.tag_style_1="background-color: #30BEB8; color: #FFFFFF;",this.tag_style_2="",this.tag_style_3="",this.tag_style_4=""},select_2:function(){this.suggestionInfo.suggestionType="售后服务",this.tag_style_1="",this.tag_style_2="background-color: #30BEB8; color: #FFFFFF;",this.tag_style_3="",this.tag_style_4=""},select_3:function(){this.suggestionInfo.suggestionType="交易问题",this.tag_style_1="",this.tag_style_2="",this.tag_style_3="background-color: #30BEB8; color: #FFFFFF;",this.tag_style_4=""},select_4:function(){this.suggestionInfo.suggestionType="其他",this.tag_style_1="",this.tag_style_2="",this.tag_style_3="",this.tag_style_4="background-color: #30BEB8; color: #FFFFFF;"},uploadSuccess:function(t){var e=this;console.log("uploadSuccess: ",t),t.tempFilePaths.forEach((function(t,n){e.suggestionInfo.suggestionImages.push(t)}))},suggestionSubmit:function(){var t=this;return u(s.default.mark((function e(){var n;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("suggestionInfo:",t.suggestionInfo),""!=t.suggestionInfo.suggestionType){e.next=4;break}return o.showToast({title:"请选择类型",icon:"none"}),e.abrupt("return");case 4:if(""!=t.suggestionInfo.suggestionText){e.next=7;break}return o.showToast({title:"请填写内容",icon:"none"}),e.abrupt("return");case 7:return e.next=9,c.collection("member-suggestion").add(t.suggestionInfo);case 9:n=e.sent,console.log("suggestionSubmit res:",n),0==n.result.code&&(o.switchTab({url:"/pages/index/my"}),o.showToast({title:"提交成功",icon:"none",duration:2e3}));case 12:case"end":return e.stop()}}),e)})))()}}});e.default=a}).call(this,n(10)["default"],n(1)["default"])},137:function(t,e,n){"use strict";n.r(e);var o=n(138),s=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=s.a},138:function(t,e,n){}},[[131,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/my/suggestion/suggestion.js.map