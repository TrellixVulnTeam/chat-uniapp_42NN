(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ucenter/settings/settings"],{224:function(e,t,n){"use strict";(function(e){n(5);o(n(3));var t=o(n(225));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},225:function(e,t,n){"use strict";n.r(t);var o=n(226),i=n(228);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n(231);var c,r=n(24),a=Object(r["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);a.options.__file="pages/ucenter/settings/settings.vue",t["default"]=a.exports},226:function(e,t,n){"use strict";n.r(t);var o=n(227);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},227:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return c})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return o}));try{o={uniList:function(){return n.e("uni_modules/uni-list/components/uni-list/uni-list").then(n.bind(null,391))},uniListItem:function(){return n.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(n.bind(null,398))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$t("settings.userInfo")),o=e.userInfo.mobile?e.$t("settings.changePassword"):null,i=e.supportMode.includes("fingerPrint"),s=i?e.$t("settings.fingerPrint"):null,c=e.supportMode.includes("facial"),r=c?e.$t("settings.facial"):null,a=e.i18nEnable?e.$t("settings.changeLanguage"):null,u=e.$t("settings.deactivate"),l=e.hasLogin?e.$t("settings.logOut"):null,f=e.hasLogin?null:e.$t("settings.login");e.$mp.data=Object.assign({},{$root:{m0:n,m1:o,g0:i,m2:s,g1:c,m3:r,m4:a,m5:u,m6:l,m7:f}})},s=!1,c=[];i._withStripped=!0},228:function(e,t,n){"use strict";n.r(t);var o=n(229),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a},229:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(230)),i=n(18);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{pushServer:o.default,supportMode:[],pushIsOn:"wait",currentLanguage:""}},computed:r(r({},(0,i.mapGetters)({userInfo:"user/info",hasLogin:"user/hasLogin"})),{},{i18nEnable:function(){return getApp().globalData.config.i18n.enable}}),onLoad:function(){var t=this;this.currentLanguage="en"==e.getStorageSync("CURRENT_LANG")?"English":"简体中文",e.setNavigationBarTitle({title:this.$t("settings.navigationBarTitle")}),e.checkIsSupportSoterAuthentication({success:function(e){console.log(e),t.supportMode=e.supportMode},fail:function(e){console.log(e)}})},onShow:function(){},methods:r(r({},(0,i.mapMutations)({logout:"user/logout"})),{},{toEdit:function(){e.navigateTo({url:"/pages/ucenter/userinfo/userinfo"})},deactivate:function(){e.navigateTo({url:"/pages/ucenter/settings/deactivate/deactivate"})},changePwd:function(){e.navigateTo({url:"/pages/ucenter/login-page/pwd-retrieve/pwd-retrieve?phoneNumber="+(this.userInfo&&this.userInfo.mobile?this.userInfo.mobile:""),fail:function(e){console.log(e)}})},startSoterAuthentication:function(t){var n=this;console.log(t);var o={fingerPrint:this.$t("settings.fingerPrint"),facial:this.$t("settings.facial")}[t];this.checkIsSoterEnrolledInDevice({checkAuthMode:t,title:o}).then((function(){console.log(t,o),e.startSoterAuthentication({requestAuthModes:[t],challenge:"123456",authContent:n.$t("settings.please")+" "+"".concat(o),complete:function(e){console.log(e)},success:function(t){if(console.log(t),0==t.errCode)return e.showToast({title:"".concat(o)+n.$t("settings.successText"),icon:"none"});e.showToast({title:n.$t("settings.failTip"),icon:"none"})},fail:function(t){console.log(t),console.log("认证失败:".concat(t.errCode)),e.showToast({title:n.$t("settings.authFailed"),icon:"none"})}})}))},checkIsSoterEnrolledInDevice:function(t){var n=this,o=t.checkAuthMode,i=t.title;return new Promise((function(t,s){e.checkIsSoterEnrolledInDevice({checkAuthMode:o,success:function(o){if(console.log(o),o.isEnrolled)return t(o);e.showToast({title:n.$t("settings.deviceNoOpen")+"".concat(i),icon:"none"}),s(o)},fail:function(t){console.log(t),e.showToast({title:"".concat(i)+n.$t("settings.fail"),icon:"none"}),s(t)}})}))},clickLogout:function(){var t=this;this.hasLogin?e.showModal({title:this.$t("settings.tips"),content:this.$t("settings.exitLogin"),cancelText:this.$t("settings.cancelText"),confirmText:this.$t("settings.confirmText"),success:function(n){n.confirm&&(t.logout(),e.navigateBack())},fail:function(){},complete:function(){}}):e.navigateTo({url:"/pages/ucenter/login-page/index/index"})},clearTmp:function(){var t=this;e.showLoading({title:this.$t("settings.clearing"),mask:!0}),e.getSavedFileList({success:function(n){n.fileList.length>0?e.removeSavedFile({filePath:n.fileList[0].filePath,complete:function(n){console.log(n),e.hideLoading(),e.showToast({title:t.$t("settings.clearedSuccessed"),icon:"none"})}}):(e.hideLoading(),e.showToast({title:t.$t("settings.clearedSuccessed"),icon:"none"}))},complete:function(e){console.log(e)}})},changeLanguage:function(){var t=this;console.log("语言切换"),e.showActionSheet({itemList:["English","简体中文"],success:function(n){console.log(n.tapIndex);var o=e.getStorageSync("CURRENT_LANG");if(!n.tapIndex&&"zh-Hans"==o||n.tapIndex&&"en"==o){var i=getApp().globalData;o=i.locale="en"===o?"zh-Hans":"en",e.setStorageSync("CURRENT_LANG",o),getApp().globalData.$i18n.locale=o,t.currentLanguage=n.tapIndex?"简体中文":"English",e.setLocale&&e.setLocale(o),e.reLaunch({url:"/pages/list/list",complete:function(){e.$emit("changeLanguage",o)}})}},fail:function(){},complete:function(){}})}})};t.default=u}).call(this,n(1)["default"])},231:function(e,t,n){"use strict";n.r(t);var o=n(232),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a},232:function(e,t,n){}},[[224,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/ucenter/settings/settings.js.map